import{c as e,E as a}from"./BAEYAcPn.js";import{b as s,i as t,$ as o,k as l,p as i}from"#entry";import{E as n}from"./BJRWvqRU.js";import{_ as d}from"./Dzm8wEly.js";import{a as r}from"./BldM8smv.js";import"./DcG7fsXR.js";import{l as c,r as u,b as p,ar as m,X as f,u as b,U as v,A as g,H as _,W as h,Y as w,d as y,G as j,am as x,_ as k,a5 as C,$ as V,a0 as O}from"./BlNbczg5.js";import{C as R}from"./DIG7BEjY.js";import{_ as I}from"./BCo6x5W8.js";const S={class:"la-select-table"},H={class:"la-select-content"},T=c({__name:"LaSelectTable",props:{modelValue:{default:[]},modelModifiers:{}},emits:["update:modelValue"],setup(c){const{t:I}=s(),T=u({isOpen:!1,search:""}),L=u({data:[{id:1,name:"北京北京北京北京北京北京北京北京北京北京北京北京北京北京",status:"success"},{id:2,name:"深圳",status:"success"},{id:20,name:"深圳深圳深圳深圳深圳深圳圳深圳深圳深圳深圳深圳深圳深圳深圳",status:"success"},{id:21,name:"深圳001",status:"success"},{id:22,name:"深圳深圳深圳深圳深圳深圳深圳",status:"success"}],tableHeader:[{property:"",label:"",type:"selection",width:"45",other:{isHide:!0}},{property:"name",label:I("account_name"),minWidth:"180"},{property:"id",label:I("account_id"),width:"180",sortable:!0},{property:"status",label:I("status"),align:"center",width:"100"}],pagination:t(i),isTool:!1}),U=p(),z=m(c,"modelValue"),E=e=>{const a=L.data.find(a=>a.id===e);return a?.name},W=e=>{T.isOpen=e},$=o(e=>{console.log("v :>> ",e)},1500),A=e=>{z.value=e.map(e=>e.id)},G=()=>{T.isOpen=!1},K=e=>{console.log("row :>> ",e);const a=L.data.find(a=>a.id===e.id);U.value.tableRef.toggleRowSelection(a);const s=z.value.findIndex(a=>a===e.id);console.log("modelValue.value :>> ",z.value),console.log("index :>> ",s)};return(s,t)=>{const o=a,i=l,c=n,u=d,p=r,m=e;return f((v(),g("div",S,[_(m,{placement:"bottom",visible:b(T).isOpen,"show-arrow":!1,teleported:!1,trigger:"click",onHide:t[3]||(t[3]=e=>W(!1))},{reference:h(()=>[w("div",{class:k(["el-select-box",{"is-active":b(T).isOpen}]),onClick:t[0]||(t[0]=e=>W(!0))},[(v(!0),g(j,null,x(z.value,e=>(v(),C(o,{key:e,closable:"",type:"primary",effect:"dark",onClose:a=>(e=>{const a=z.value.findIndex(a=>a===e);if(console.log("index :>> ",a),a>-1){z.value.splice(a,1);const s=L.data.find(a=>a.id===e);U.value.tableRef.toggleRowSelection(s,!1)}})(e)},{default:h(()=>[V(O(E(e)),1)]),_:2},1032,["onClose"]))),128))],2)]),default:h(()=>[w("div",H,[_(c,{modelValue:b(T).search,"onUpdate:modelValue":t[1]||(t[1]=e=>b(T).search=e),class:"la-search-input",size:"large",onInput:b($)},{prefix:h(()=>[_(i,{class:"i-ep-search"})]),_:1},8,["modelValue","onInput"]),_(p,{ref_key:"tableRef",ref:U,option:b(L),"onUpdate:option":t[2]||(t[2]=e=>y(L)?L.value=e:null),"row-key":"id","auto-height":"",size:"large",onRowClick:K,onSelectionChange:A},{status:h(({row:e})=>[_(u,{"data-id":e.id,num:5,text:b(I)("active")},null,8,["data-id","text"])]),_:1},8,["option"])])]),_:1},8,["visible"])])),[[b(R),G]])}}}),L=Object.assign(I(T,[["__scopeId","data-v-dd1d4488"]]),{__name:"LaSelectTable"});export{L as _};
