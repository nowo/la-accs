import{a2 as e,aw as t,aI as a,aJ as r,aK as n,aL as l,aM as u,aN as i,aD as o,aO as s,as as v,n as c,aP as f,aQ as p,aR as d,aS as h}from"#entry";import{l as g,k as y,b,y as m,o as x,v as q,ax as S,n as C}from"./BlNbczg5.js";function A(p){const d=p.componentName||"NuxtLink";function h(e){return!f&&"string"==typeof e&&e.startsWith("#")}function A(t){const a=e(),r=v(),n=C(()=>!!t.target&&"_self"!==t.target),l=C(()=>{const e=t.to||t.href||"";return"string"==typeof e&&o(e,{acceptRelative:!0})}),i=S("RouterLink"),f=i&&"string"!=typeof i?i.useLink:void 0,d=C(()=>{if(t.external)return!0;const e=t.to||t.href||"";return"object"!=typeof e&&(""===e||l.value)}),g=C(()=>{const e=t.to||t.href||"";return d.value?e:function(e,t,a){const r=a??p.trailingSlash;if(!e||"append"!==r&&"remove"!==r)return e;if("string"==typeof e)return w(e,r);const n="path"in e&&void 0!==e.path?e.path:t(e).path;return{...e,name:void 0,path:w(n,r)}}(e,a.resolve,t.trailingSlash)}),y=d.value?void 0:f?.({...t,to:g}),b=C(()=>{const e=t.trailingSlash??p.trailingSlash;if(!g.value||l.value||h(g.value))return g.value;if(d.value){const t="object"==typeof g.value&&"path"in g.value?u(g.value):g.value;return w("object"==typeof t?a.resolve(t).href:t,e)}return"object"==typeof g.value?a.resolve(g.value)?.href??null:w(s(r.app.baseURL,g.value),e)});return{to:g,hasTarget:n,isAbsoluteUrl:l,isExternal:d,href:b,isActive:y?.isActive??C(()=>g.value===a.currentRoute.value.path),isExactActive:y?.isExactActive??C(()=>g.value===a.currentRoute.value.path),route:y?.route??C(()=>a.resolve(g.value)),async navigate(e){await c(b.value,{replace:t.replace,external:d.value||n.value})}}}return g({name:d,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:A,setup(o,{slots:s}){const v=e(),{to:c,href:f,navigate:d,isExternal:g,hasTarget:C,isAbsoluteUrl:R}=A(o),w=y(!1),O=b(null),L=e=>{O.value=o.custom?e?.$el?.nextElementSibling:e?.$el};function j(e){return!w.value&&("string"==typeof o.prefetchOn?o.prefetchOn===e:o.prefetchOn?.[e]??p.prefetchOn?.[e])&&!1!==(o.prefetch??p.prefetch)&&!0!==o.noPrefetch&&"_blank"!==o.target&&!function(){const e=navigator.connection;if(e&&(e.saveData||k.test(e.effectiveType)))return!0;return!1}()}async function E(e=t()){if(w.value)return;w.value=!0;const a="string"==typeof c.value?c.value:g.value?u(c.value):v.resolve(c.value).fullPath,r=g.value?new URL(a,window.location.href).href:a;await Promise.all([e.hooks.callHook("link:prefetch",r).catch(()=>{}),!g.value&&!C.value&&i(c.value,v).catch(()=>{})])}if(j("visibility")){const e=t();let l,u=null;m(()=>{const n=function(){const e=t();if(e._observer)return e._observer;let a=null;const r=new Map,n=(e,t)=>(a||=new IntersectionObserver(e=>{for(const t of e){const e=r.get(t.target);(t.isIntersecting||t.intersectionRatio>0)&&e&&e()}}),r.set(e,t),a.observe(e),()=>{r.delete(e),a?.unobserve(e),0===r.size&&(a?.disconnect(),a=null)}),l=e._observer={observe:n};return l}();a(()=>{l=r(()=>{O?.value?.tagName&&(u=n.observe(O.value,async()=>{u?.(),u=null,await E(e)}))})})}),x(()=>{l&&n(l),u?.(),u=null})}return()=>{if(!g.value&&!C.value&&!h(c.value)){const e={ref:L,to:c.value,activeClass:o.activeClass||p.activeClass,exactActiveClass:o.exactActiveClass||p.exactActiveClass,replace:o.replace,ariaCurrentValue:o.ariaCurrentValue,custom:o.custom};return o.custom||(j("interaction")&&(e.onPointerenter=E.bind(null,void 0),e.onFocus=E.bind(null,void 0)),w.value&&(e.class=o.prefetchedClass||p.prefetchedClass),e.rel=o.rel||void 0),q(S("RouterLink"),e,s.default)}const e=o.target||null,t=((...e)=>e.find(e=>void 0!==e))(o.noRel?"":o.rel,p.externalRelAttribute,R.value||C.value?"noopener noreferrer":"")||null;return o.custom?s.default?s.default({href:f.value,navigate:d,prefetch:E,get route(){if(!f.value)return;const e=new URL(f.value,window.location.href);return{path:e.pathname,fullPath:e.pathname,get query(){return l(e.search)},hash:e.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:f.value}},rel:t,target:e,isExternal:g.value||C.value,isActive:!1,isExactActive:!1}):null:q("a",{ref:O,href:f.value||null,rel:t,target:e,onClick:e=>{if(!g.value&&!C.value)return e.preventDefault(),o.replace?v.replace(f.value):v.push(f.value)}},s.default?.())}}})}const R=A(h);function w(e,t){const a="append"===t?p:d;return o(e)&&!e.startsWith("http")?e:a(e,!0)}const k=/2g/;export{R as _};
