import{_ as e}from"./D8a0cnkt.js";import{_ as a,a as s}from"./CStHiqLV.js";import{E as o}from"./DW6pPng1.js";import{E as t,a as l}from"./D_FRrnYa.js";import{_ as r}from"./CiE6E-ma.js";import{E as n}from"./eCS7wuIR.js";import{b as i,a as m,c,d,e as p,s as u,E as f,f as x,h as g,n as v}from"#entry";import{E as h}from"./3YeoLgAx.js";import{l as w,r as b,b as k,B as _,A as j,U as F,Y as y,H as V,W as C,a0 as H,u as U,ak as M,$ as E,a8 as I,al as z}from"./BlNbczg5.js";import{u as D,a as L}from"./CBCYgbPi.js";import{_ as R}from"./BCo6x5W8.js";import"./D8ZZYQFM.js";const S=""+new URL("../images/white-logo-0I07ZJpH.svg",import.meta.url).href,Z=""+new URL("../images/login-sheet1-DcruUZa3.svg",import.meta.url).href,$={class:"login-box h100vh w100% <sm:h-auto <sm:block!"},q={class:"login-left relative <md:px20px <xs:block! <sm:bg-#fff!"},B={class:"flex items-center text-16px"},K={class:"mx10px c-[var(--el-color-primary)]"},T={class:"login-bottom flex items-center <sm:h-unset!"},A={class:"login-form-title mb16px text-32px font-bold <sm:text-24px"},G={class:"mb50px <sm:c-#858D9D"},J={class:"login-form-content"},P={class:"login-right <xs:px-20px!"},W={class:"login-bottom <sm:h-unset!"},Y={class:"h100% flex flex-col"},N={class:"mb16px pt40px text-32px c-#fff font-bold lh-130% <sm:pt5px <sm:text-24px"},O={class:"mb32px text-18px c-#fff lh-160% <sm:text-14px"},Q=R(w({__name:"login",setup(w){const{t:R}=i(),{localeProperties:Q}=i(),{userInfo:X,setUserLoginState:ee,isFetch:ae}=m();b({verify:""});const se=k(),oe=b({account:"",password:"",remember:!1,code:"",key:""}),te=b({account:[{required:!0,message:R("username_message")}],password:[{required:!0,message:R("password_message")}]}),le=c("account",void 0),[re,ne]=D(async()=>{ae.value=!0,console.log("login :>> ","login");if(!(await L(se.value)))return;const e={username:oe.account?.trim(),password:oe.password?.trim(),remember:!!oe.remember};console.log("params :>> ",e);const a=await u(e);if(console.log("res :>> ",a),200!==a.code)return f.error(a.msg);if(!a.data.accessToken)return f.error(R("login_error_message"));if(await ee("login",a.data.accessToken),oe.remember){const e=x(`${oe.account},${oe.password}`);le.value=e}else le.value=void 0;const s=g();v(s("index")),X.value.username=oe.account}),ie=()=>{oe.account?.trim()&&oe.password?.trim()&&re()};return _(()=>{(()=>{if(le.value){const e=p(le.value);if(e){const[a,s]=e.split(",");a&&s&&(oe.account=a||"",oe.password=s||"",oe.remember=!0)}}})()}),(i,m)=>{const c=e,p=a,u=o,f=t,x=r,g=n,v=d,w=h,b=l;return F(),j("div",$,[y("div",q,[V(p,{class:"bottom-60px right-50% translate-x-50% absolute! <sm:bottom-auto <sm:right-30px <sm:top-30px <sm:translate-x-0"},{default:C(()=>[y("div",B,[V(c,{class:"text-24px c-#858d9d",name:"translate"}),y("span",K,H(U(Q).name),1),m[3]||(m[3]=y("i",{class:"i-ep-caret-bottom"},null,-1))])]),_:1}),y("div",null,[m[5]||(m[5]=y("div",{class:"login-logo"},[y("img",{src:s,alt:"logo"})],-1)),y("div",T,[V(b,{ref_key:"formRef",ref:se,model:U(oe),rules:U(te),size:"large","label-position":"top",class:"login-form max-w-100% w380px <xs:w100%",onSubmit:I(U(re),["prevent"])},{default:C(()=>[y("h3",A,H(U(R)("welcome")),1),y("p",G,H(U(R)("welcome info")),1),y("div",J,[V(f,{label:U(R)("username"),prop:"account"},{default:C(()=>[V(u,{modelValue:U(oe).account,"onUpdate:modelValue":m[0]||(m[0]=e=>U(oe).account=e),modelModifiers:{trim:!0},type:"text",maxlength:"20",placeholder:U(R)("username placeholder"),clearable:"",tabindex:"1",onKeyup:M(ie,["enter"])},{prefix:C(()=>[V(c,{class:"text-24px c-#3250FF",name:"login-user"})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),V(f,{label:U(R)("password"),prop:"password"},{default:C(()=>[V(x,{modelValue:U(oe).password,"onUpdate:modelValue":m[1]||(m[1]=e=>U(oe).password=e),modelModifiers:{trim:!0},maxlength:"30",type:"password",placeholder:U(R)("password placeholder"),"show-password":"",tabindex:"2",onKeyup:M(ie,["enter"])},{prefix:C(()=>[...m[4]||(m[4]=[y("img",{src:"data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6%2010V8C6%204.69%207%202%2012%202C17%202%2018%204.69%2018%208V10'%20stroke='%233250FF'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M17%2022H7C3%2022%202%2021%202%2017V15C2%2011%203%2010%207%2010H17C21%2010%2022%2011%2022%2015V17C22%2021%2021%2022%2017%2022Z'%20stroke='%233250FF'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M15.9965%2016H16.0054'%20stroke='%233250FF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M11.9955%2016H12.0045'%20stroke='%233250FF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M7.99451%2016H8.00349'%20stroke='%233250FF'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",alt:"password"},null,-1)])]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),V(v,null,{default:C(()=>[V(f,null,{default:C(()=>[V(g,{modelValue:U(oe).remember,"onUpdate:modelValue":m[2]||(m[2]=e=>U(oe).remember=e),label:U(R)("remember_me")},null,8,["modelValue","label"])]),_:1})]),_:1}),V(f,{class:"login-animation4 <sm:pb5px"},{default:C(()=>[V(w,{type:"primary",size:"large",class:"w100%",loading:U(ne),tabindex:"4",onClick:U(re)},{default:C(()=>[E(H(U(R)("login")),1)]),_:1},8,["loading","onClick"])]),_:1})])]),_:1},8,["model","rules","onSubmit"])])])]),y("div",P,[m[7]||(m[7]=y("div",{class:"login-logo"},[y("img",{src:S,alt:"logo"})],-1)),y("div",W,[y("div",Y,[y("h1",N,H(U(R)("login-title")),1),y("p",O,H(U(R)("login-info")),1),m[6]||(m[6]=z('<div class="dit" data-v-a80aaf67><span class="a1" data-v-a80aaf67></span><span data-v-a80aaf67></span><span class="a1" data-v-a80aaf67></span></div><div class="flex flex-1 justify-center &lt;sm:mb10px" data-v-a80aaf67><img class="ma pl6%" src="'+Z+'" alt="" data-v-a80aaf67></div>',2))])])])])}}}),[["__scopeId","data-v-a80aaf67"]]);export{Q as default};
